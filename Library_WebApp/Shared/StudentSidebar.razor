@code 
{
    [Parameter]
    public EventCallback<string> OnSectionChanged { get; set; }

    [Parameter]
    public string CurrentSection { get; set; } = null!;

    [Parameter]
    public string username { get; set; } = null!;

    private async Task NavigateToSection(string section)
    {
        await OnSectionChanged.InvokeAsync(section);
    }

    private string GetNavLinkClass(string section)
    {
        return CurrentSection == section ? "nav-link active" : "nav-link";
    }
}

@* <div class="d-flex flex-column flex-grow-1 p-3 bg-light m-0" style="width: 280px;">
    <div class="d-flex align-items-center mb-3 mb-md-0 me-md-auto link-dark text-decoration-none">
        <svg class="bi me-2 bg-black" width="40" height="32">
            <use xlink:href=""></use>
        </svg>
        <span class="fs-4">Library</span>
    </div>
    <hr>
    <ul class="nav nav-pills flex-column mb-auto">
        <li class="nav-item">
            <div class='@GetNavLinkClass("Home")' @onclick='() => NavigateToSection("Home")'>
                Home
            </div>
        </li>
        <li>
            <div class='@GetNavLinkClass("Search book")' @onclick='() => NavigateToSection("Search book")'>
                Search a book
            </div>
        </li>
        <li>
            <div class='@GetNavLinkClass("Rent book")' @onclick='() => NavigateToSection("Rent book")'>
                Rent a book
            </div>
        </li>
    </ul>
    <BSDropdown>
        <Toggler>
            <BSToggle IsButton="true" Color="BSColor.Default" class="rounded-3">
                <img src="/Images/user.png" width="40px" height="40px" class="rounded-circle mr-2" />
                @username
            </BSToggle>
        </Toggler>
        <Content>
            <BSDropdownItem>Account</BSDropdownItem>
            <BSDropdownItem>Settings</BSDropdownItem>
            <BSDropdownItem>Logout</BSDropdownItem>
        </Content>
    </BSDropdown>
</div> *@

<style>
    .sidebar {
        height: 100vh;
        background-color: #f8f9fa;
        padding-top: 20px;
    }

    .profile-image {
        width: 80px;
        height: 80px;
        border-radius: 50%;
    }
</style>

<div class="container-fluid h-100">
    <div class="row h-100">
        <div class="col-3 col-md-3 col-lg-2 d-flex flex-column sidebar">
            <div class="text-center">
                <img src="/Images/user.png" alt="User Profile" class="profile-image">
                <h4 class="mt-2">@username</h4>
            </div>
            <hr>
            <ul class="nav flex-column">
                <li class="nav-item">
                    <div class='@GetNavLinkClass("Home")' @onclick='() => NavigateToSection("Home")'>
                        Home
                    </div>
                </li>
                <li class="nav-item">
                    <div class='@GetNavLinkClass("Search book")' @onclick='() => NavigateToSection("Search book")'>
                        Search a book
                    </div>
                </li>
                <li class="nav-item">
                    <div class='@GetNavLinkClass("Rent book")' @onclick='() => NavigateToSection("Rent book")'>
                        Rent a book
                    </div>
                </li>
            </ul>
        </div>
    </div>
</div>