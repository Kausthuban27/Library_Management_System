g@page "/"

<PageTitle>Home</PageTitle>

@if(!string.IsNullOrEmpty(selectedRole))
{
    <DynamicComponentLoading Role=@selectedRole OnCancel="ResetSelection" />
}

else
{
    <div class="welcome-text text-center">
        <h1>Welcome to Our Library</h1>
        <h6>Select Your Login To Continue</h6>
    </div>

    <div class="d-flex justify-content-evenly my-4">
        <div class="position-relative w-25" @onclick='() => UserRole("Student")'>
            <img src="Images/Student-im.png" class="img-fluid h-75" alt="Student" id="Student" />
            <div class="overlay bg-dark bg-opacity-50 w-100 h-75 position-absolute top-0 start-0 d-flex align-items-center justify-content-center">
                <div class="text-white fs-4 fw-bold">Student</div>
            </div>
        </div>

        <div class="position-relative w-25" @onclick='() => UserRole("Librarian")'>
            <img src="Images/Librarian.jpg" class="img-fluid h-75" alt="Librarian" id="Librarian" />
            <div class="overlay bg-dark bg-opacity-50 w-100 h-75 position-absolute top-0 start-0 d-flex align-items-center justify-content-center">
                <div class="text-white fs-4 fw-bold">Librarian</div>
            </div>
        </div>
    </div>

    <style>
        .overlay {
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .position-relative:hover .overlay {
            opacity: 1;
        }
    </style>
}


@code
{
    public string? selectedRole;

    public void UserRole(string role)
    {
        selectedRole = role;
    }

    public void ResetSelection()
    {
        selectedRole = null;
    }
}